apiVersion: deployments.kuberik.com/v1alpha1
kind: Deployment
metadata:
  name: deployment-sample
  namespace: default
spec:
  # Reference to the Rollout that this Deployment manages
  rolloutRef:
    name: myapp-rollout

  # Deployment configuration
  deploymentName: "kuberik-myapp-production"
  environment: "production"
  ref: "main"

  # Relationship configuration
  relationship:
    type: "after"
    environments:
      - "staging"
      - "testing"

  # Backend-specific configuration
  backendConfig:
    backend: "github"
    project: "myorg/myapp"
    backendSecret: "github-token"
