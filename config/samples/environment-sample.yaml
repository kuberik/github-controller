apiVersion: environments.kuberik.com/v1alpha1
kind: Environment
metadata:
  name: environment-sample
  namespace: default
spec:
  # Reference to the Rollout that this Deployment manages
  rolloutRef:
    name: myapp-rollout

  # Deployment configuration
  name: "kuberik-myapp-production"
  environment: "production"
  ref: "main"

  # Relationship configuration
  relationship:
    type: "after"
    environments:
      - "staging"
      - "testing"

  # Backend-specific configuration
  backend:
    type: "github"
    project: "myorg/myapp"
    secret: "github-token"
